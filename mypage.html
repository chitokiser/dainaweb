<!-- /public/mypage.html -->
<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#f6f7fb" />
  <title>Daina · 마이페이지</title>
  <link rel="icon" type="image/png" sizes="64x64" href="./assets/images/daina.png" />
  <link rel="apple-touch-icon" href="./assets/images/daina.png" />
  <link rel="stylesheet" href="./assets/css/app.css" />
  <script defer src="./assets/js/partials.js"></script>
  <script type="module" defer src="./assets/js/main.js"></script>
  <script type="module" defer src="./assets/js/mypage.js"></script>
</head>
<body>
  <div class="page">
    <div id="site-header"></div>

    <main class="main-wrap">
      <section class="hero">
        <div class="hero-inner">
          <div>
            <h1>마이페이지</h1>
            <p class="desc">내가 등록한 글/공고/프로필을 한 번에 관리합니다.</p>
            <div class="sub" id="roleLine" style="margin-top:8px;"></div>
          </div>
          <div class="hero-card">
            <div class="hero-card-title">내 글 관리</div>
            <div class="hero-card-desc">글 수정/보완(이미지 URL 포함) · 진행중/마감 · 관리자 승인 상태 확인</div>
          </div>
        </div>
      </section>

      <section id="authWarn" class="notice" style="display:none;">
        <div class="notice-title">로그인이 필요합니다</div>
        <div class="notice-body">구글 로그인 후 이용할 수 있습니다.</div>
      </section>

      <!-- 내 글(통합) -->
      <section class="form-card" id="myPostsArea">
        <div class="fold">
          <div class="fold-head">
            <h2 class="fold-title">내가 쓴 글 (전체)</h2>
            <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;">
              <select class="select" id="myPostsFilterStatus" aria-label="status" style="min-width:160px;">
                <option value="">상태(전체)</option>
                <option value="pending">대기(pending)</option>
                <option value="approved">승인(approved)</option>
                <option value="rejected">반려(rejected)</option>
                <option value="hidden">숨김(hidden)</option>
              </select>
              <select class="select" id="myPostsFilterCategory" aria-label="category" style="min-width:160px;">
                <option value="">카테고리(전체)</option>
              </select>
              <button class="btn ghost" id="btnReloadMyPosts" type="button">새로고침</button>
            </div>
          </div>

          <div class="fold-body">
            <div class="sub" id="myPostsMeta" style="margin-bottom:12px;"></div>
            <div id="myPostsList"></div>
          </div>
        </div>
      </section>

      <!-- 기존(구인/구직) 영역: 기존 페이지 기능 유지 -->
      <section class="form-card" id="employerArea" style="display:none;">
        <h2 style="margin:0 0 12px;">구인자</h2>
        <div class="sub" id="myJobsMeta"></div>
        <div id="myJobs" style="margin-top:10px;"></div>
        <div class="hr"></div>
        <div class="sub" id="shortMeta"></div>
        <div id="shortList" style="margin-top:10px;"></div>
      </section>

      <section class="form-card" id="jobseekerArea" style="display:none;">
        <h2 style="margin:0 0 12px;">구직자</h2>
        <div id="myProfile"></div>
        <div class="hr"></div>
        <div class="sub" id="myAppsMeta"></div>
        <div id="myApps" style="margin-top:10px;"></div>
      </section>
    </main>

    <div id="site-footer"></div>
  </div>

  <div class="toast" id="toastRoot"></div>

  <!-- 공통 모달 (util.js openModal/closeModal 패턴) -->
  <div class="modal-wrap" id="modalWrap">
    <div class="modal" id="modalBox"></div>
  </div>
</body>
</html>
